<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Spring Security UI Plugin 0.2</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#1%20Introduction%20to%20the%20Spring%20Security%20UI%20Plugin"><strong>1</strong><span>Introduction to the Spring Security UI Plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#2%20User%20Management"><strong>2</strong><span>User Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#3%20Role%20Management"><strong>3</strong><span>Role Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#4%20Requestmap%20Management"><strong>4</strong><span>Requestmap Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#5%20User%20Registration"><strong>5</strong><span>User Registration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#6%20Forgot%20Password"><strong>6</strong><span>Forgot Password</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#7%20ACL%20Management"><strong>7</strong><span>ACL Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#8%20Persistent%20Cookie%20Management"><strong>8</strong><span>Persistent Cookie Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#9%20Security%20Configuration%20UI"><strong>9</strong><span>Security Configuration UI</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#10%20Customization"><strong>10</strong><span>Customization</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>User interface extensions for the Spring Security plugin</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Spring Security UI Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Burt Beckwith</p>
                            <p><strong>Version:</strong> 0.2</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#1%20Introduction%20to%20the%20Spring%20Security%20UI%20Plugin"><strong>1</strong><span>Introduction to the Spring Security UI Plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#2%20User%20Management"><strong>2</strong><span>User Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#3%20Role%20Management"><strong>3</strong><span>Role Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#4%20Requestmap%20Management"><strong>4</strong><span>Requestmap Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#5%20User%20Registration"><strong>5</strong><span>User Registration</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#6%20Forgot%20Password"><strong>6</strong><span>Forgot Password</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#7%20ACL%20Management"><strong>7</strong><span>ACL Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#7.1%20AclClass%20Management"><strong>7.1</strong><span>AclClass Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#7.2%20AclSid%20Management"><strong>7.2</strong><span>AclSid Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#7.3%20AclObjectIdentity%20Management"><strong>7.3</strong><span>AclObjectIdentity Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#7.4%20AclEntry%20Management"><strong>7.4</strong><span>AclEntry Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#8%20Persistent%20Cookie%20Management"><strong>8</strong><span>Persistent Cookie Management</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#9%20Security%20Configuration%20UI"><strong>9</strong><span>Security Configuration UI</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#10%20Customization"><strong>10</strong><span>Customization</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="1 Introduction to the Spring Security UI Plugin">1 Introduction to the Spring Security UI Plugin</h1>
The Spring Security UI plugin provides CRUD screens and other user management workflows. Non-default functionality is available only if the feature is available; this includes the ACL controllers and views which are enabled if the <a href="http://grails.org/plugin/spring-security-acl" target="blank">ACL plugin</a> is installed, Requestmaps support which is available if <code>grails.plugins.springsecurity.securityConfigType</code> is set to <code>"Requestmap"</code> or <code>SecurityConfigType.Requestmap</code> in <code>Config.groovy</code>, and persistent cookies support which is enabled if it has been configured with the <code>s2-create-persistent-token</code> script.<p class="paragraph"/><blockquote class="note">
As of version 0.2 the plugin does not declare any dependencies on plugins, although it has several:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Minimum Version</strong></th></tr><tr class="table-odd"><td>spring-security-core</td><td>1.2</td></tr><tr class="table-even"><td>mail</td><td>1.0</td></tr><tr class="table-odd"><td>jquery</td><td>1.4.4</td></tr><tr class="table-even"><td>jquery-ui</td><td>1.8.7</td></tr><tr class="table-odd"><td>famfamfam</td><td>1.0</td></tr></table><p class="paragraph"/>This is to support both 1.3.x and 2.0 applications without specifying a fixed version. Be sure that you have these dependent plugins installed before installing this one (using the latest versions of each is your best bet).<p class="paragraph"/></blockquote><p class="paragraph"/>
<h4>Release History</h4>
<ul class="star">
<li>February 12, 2012</li>
<ul class="star">
<li>0.2 release</li>
<li><a href="http://jira.grails.org/secure/ReleaseNote.jspa?projectId=10233&amp;version=12709" target="blank">JIRA Issues</a></li>
</ul>
<li>September 14, 2010</li>
<ul class="star">
<li>0.1.2 release</li>
<li><a href="http://jira.grails.org/secure/ReleaseNote.jspa?projectId=10233&amp;version=11921" target="blank">JIRA Issues</a></li>
</ul>
<li>July 27, 2010</li>
<ul class="star">
<li>0.1.1 release</li>
</ul>
<li>July 26, 2010</li>
<ul class="star">
<li>initial 0.1 release</li>
</ul></ul><p class="paragraph"/>


<h1 id="2 User Management">2 User Management</h1>
<h4>User search</h4><p class="paragraph"/>The default action for the User controller is search. By default only the standard fields (<code>username</code>, <code>enabled</code>, <code>accountExpired</code>, <code>accountLocked</code>, and <code>passwordExpired</code>) are available but this is customizable with the <code>grails s2ui-override</code> script - see <a href="../guide/single.html#10%20Customization" class="guide">the section on configuration</a>.<p class="paragraph"/>You can search by any combination of fields, and the <code>username</code> field has an Ajax autocomplete to assist in finding users. In this screenshot you can see that an <code>email</code> field has been added to the domain class and UI. Leave all fields empty and all checkboxes set at Either to return all users.<p class="paragraph"/><img border="0" class="center" src="../img/user_search_start.png"></img><p class="paragraph"/>This example shows a search for usernames containing 'adm' (the search is case-insensitive and the search string can appear anywhere in the username). Results are shown paginated in groups of 10. All of the column headers are clickable and will sort the results by that field:<p class="paragraph"/><img border="0" class="center" src="../img/user_search_results.png"></img><p class="paragraph"/><h4>User edit</h4><p class="paragraph"/>After clicking through to the 'admin' user you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/user_edit.png"></img><p class="paragraph"/>You can update any of the attributes or delete the user. You can see that there's a "Login as user" button here - that us only shown if you're authenticated with a user who is granted <code>ROLE_SWITCH_USER</code>:<p class="paragraph"/><img border="0" class="center" src="../img/user_edit_roles.png"></img><p class="paragraph"/>This allows you to temporarily assume the identity of another user (see <a href="http://grails-plugins.github.com/grails-spring-security-core/docs/manual/" target="blank">Section 15</a> in the Spring Security Core plugin documentation for more information about switch-user). The "Logged in as ..." information in the top right of the screen will change to show that you're running as another user and provide a link to switch back. The role name is arbitrary and can be changed by overriding <code>edit.gsp</code>.<p class="paragraph"/><h4>OpenIDs</h4><p class="paragraph"/>If the <a href="http://grails.org/plugin/spring-security-openid" target="blank">OpenID plugin</a> is installed, you can manage users' associated OpenIDs:<p class="paragraph"/><img border="0" class="center" src="../img/user_edit_openids.png"></img><p class="paragraph"/><h4>User creation</h4><p class="paragraph"/>You can create new users by going to <code>/user/create</code> or by clicking the <code>Create</code> action in the <code>Users</code> menu.<p class="paragraph"/><img border="0" class="center" src="../img/user_create.png"></img>



<h1 id="3 Role Management">3 Role Management</h1>
<h4>Role search</h4><p class="paragraph"/>The default action for the Role controller is search. By default only the <code>authority</code> field is available but this is customizable with the <code>grails s2ui-override</code> script - see <a href="../guide/single.html#10%20Customization" class="guide">the section on configuration</a>.<p class="paragraph"/>The <code>authority</code> field has an Ajax autocomplete to assist in finding roles. Leave all fields empty to return all roles.<p class="paragraph"/><img border="0" class="center" src="../img/role_search_start.png"></img><p class="paragraph"/>Authority search is case-insensitive and the search string can appear anywhere in the name (and you can omit the <code>ROLE_</code> prefix). Multiple results are shown paginated in groups of 10 but if there's only one result you'll be forwarded to the edit page for that role.<p class="paragraph"/><h4>Role edit</h4><p class="paragraph"/>After clicking through to a role you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/role_edit.png"></img><p class="paragraph"/>You can update any of the attributes or delete the role. Any user that had been granted the role will lose the grant but otherwise be unaffected.<p class="paragraph"/>If you click the Users tab you can see which users have a grant for this role and can click through to their edit page:<p class="paragraph"/><img border="0" class="center" src="../img/role_edit_users.png"></img><p class="paragraph"/><h4>Role creation</h4><p class="paragraph"/>You can create new roles by going to <code>/role/create</code> or by clicking the <code>Create</code> action in the <code>Roles</code> menu.<p class="paragraph"/><img border="0" class="center" src="../img/role_create.png"></img><p class="paragraph"/>


<h1 id="4 Requestmap Management">4 Requestmap Management</h1>
The default approach to securing URLs is with annotations, so the Requestmaps menu is only shown if <code>grails.plugins.springsecurity.securityConfigType</code> has the value <code>"Requestmap"</code> or <code>SecurityConfigType.Requestmap</code> in <code>Config.groovy</code>.<p class="paragraph"/><h4>Requestmap search</h4><p class="paragraph"/>The default action for the Requestmap controller is search. You can search by URL or Config Attribute. Leave all fields empty to return all Requestmaps.<p class="paragraph"/><img border="0" class="center" src="../img/requestmap_search_start.png"></img><p class="paragraph"/>Searching is case-insensitive and the search string can appear anywhere in the field. Multiple results are shown paginated in groups of 10 and you can click on either header to sort by that field:<p class="paragraph"/><img border="0" class="center" src="../img/requestmap_search_results.png"></img><p class="paragraph"/><h4>Requestmap edit</h4><p class="paragraph"/>After clicking through to a Requestmap you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/requestmap_edit.png"></img><p class="paragraph"/>You can update any of the attributes or delete the Requestmap. Editing or deleting a Requestmap resets the cache of loaded instances, so your changes will take effect immediately.<p class="paragraph"/><h4>Requestmap creation</h4><p class="paragraph"/>You can create new Requestmaps by going to <code>/requestmap/create</code> or by clicking the <code>Create</code> action in the <code>Requestmaps</code> menu.<p class="paragraph"/><img border="0" class="center" src="../img/requestmap_create.png"></img><p class="paragraph"/>Creating a Requestmap resets the cache of loaded instances, so your changes will take effect immediately.



<h1 id="5 User Registration">5 User Registration</h1>
Most of the plugin's controllers are intended to be part of a backend admin application, but the Registration and Forgot Password workflows are expected to be user-facing. So they're not available in the admin menu like the User, Role, and other backend functionality - you'll need to expose them to your users.<p class="paragraph"/>One way to do this is to replace the default <code>login.gsp</code> that's provided by the Spring Security Core plugin with this plugin's version. You can do this by running <code>grails s2ui-override auth</code> - see <a href="../guide/single.html#10%20Customization" class="guide">the section on configuration</a> for more details. If you do this your users will have links to both workflows from the login screen:<p class="paragraph"/><img border="0" class="center" src="../img/login.png"></img><p class="paragraph"/><h4>Registration</h4><p class="paragraph"/>Navigate to <code>/register/</code>:<p class="paragraph"/><img border="0" class="center" src="../img/register_start.png"></img><p class="paragraph"/>After filling out valid values an email will be sent and you'll see a success screen:<p class="paragraph"/><img border="0" class="center" src="../img/register_sent.png"></img><p class="paragraph"/>Click on the link in the email:<p class="paragraph"/><img border="0" class="center" src="../img/register_email.png"></img><p class="paragraph"/>and you'll finalize the process, which involves enabling the locked user and pre-authenticating, then redirecting to the configured destination:<p class="paragraph"/><img border="0" class="center" src="../img/register_final.png"></img><p class="paragraph"/><h4>Configuration</h4><p class="paragraph"/>The post-registration destination url is configurable in <code>grails-app/conf/Config.groovy</code> using the <code>postRegisterUrl</code> attribute:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.register.postRegisterUrl = '/welcome'</pre></div><p class="paragraph"/>If you don't specify a value then the <code>defaultTargetUrl</code> value will be used, which is <code>'/'</code> by default.<p class="paragraph"/>You can customize the subject, body, and from address of the registration email by overriding the default values in <code>grails-app/conf/Config.groovy</code>, for example:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.register.emailBody = '...'
grails.plugins.springsecurity.ui.register.emailFrom = '...'
grails.plugins.springsecurity.ui.register.emailSubject = '...'</pre></div><p class="paragraph"/>The <code>emailBody</code> property should be a GString and will have the User domain class instance in scope in the <code>user</code> variable, and the generated url to click to finalize the signup in the <code>url</code> variable.<p class="paragraph"/>In addition, each new user will be granted <code>ROLE_USER</code> after finalizing the registration. If you want to change the default role, add more, or grant no roles at all (for example if you want an admin to approve new users and explicitly enable new users) then you can customize that with the <code>defaultRoleNames</code> attribute (which is a List of Strings):<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.register.defaultRoleNames = &#91;&#93; // no roles</pre></div><p class="paragraph"/>or<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.register.defaultRoleNames = &#91;'ROLE_CUSTOMER'&#93;</pre></div><p class="paragraph"/><h4>Mail configuration</h4><p class="paragraph"/>The plugin uses the <a href="http://grails.org/plugin/mail" target="blank">Mail plugin</a> to send registration emails, so you'll need to configure an SMTP server. See the plugin's documentation for the syntax.<p class="paragraph"/><h4>Notes</h4><p class="paragraph"/>You should consider the registration code as starter code - every signup workflow will be different, and this should help you get going but is unlikely to be sufficient. You may wish to collect more information than just username and email - first and last name for example. Run <code>grails s2ui-override register</code> to copy the registration controller and GSPs into your application to be customized.<p class="paragraph"/>If there are unexpected validation errors during registration (which can happen when there is a disconnect between the domain classes and the code in <code>RegisterController</code> they will be logged at the <code>warn</code> level, so enable logging to ensure that you see the messages, e.g.<p class="paragraph"/><div class="code"><pre>log4j = &#123;
   error 'org.codehaus.groovy.grails',
         'org.springframework',
         'org.hibernate',
         'net.sf.ehcache.hibernate'
   // pre&#45;2.0
   // warn 'grails.app.service.grails.plugins.springsecurity.ui.SpringSecurityUiService'<p class="paragraph"/>   // 2.0
   warn 'grails.app.services.grails.plugins.springsecurity.ui.SpringSecurityUiService'
&#125;</pre></div><p class="paragraph"/><blockquote class="note">
<code>RegisterController</code> and its GSPs assume that your User domain class has an <code>email</code> field. Be sure to either rework the workflow (using the <code>s2ui-override</code> script) if you don't need an email confirmation step or add an email field.
</blockquote><p class="paragraph"/>


<h1 id="6 Forgot Password">6 Forgot Password</h1>
Like the Registration workflow, the Forgot Password workflow is expected to be user-facing. So it's not available in the admin menu like the User, Role, and other backend functionality - you'll need to expose them to your users.<p class="paragraph"/>One way to do this is to replace the default <code>login.gsp</code> that's provided by the Spring Security Core plugin with this plugin's version. You can do this by running <code>grails s2ui-override auth</code> - see <a href="../guide/single.html#10%20Customization" class="guide">the section on configuration</a> for more details. If you do this your users will have links to both workflows from the login screen:<p class="paragraph"/><img border="0" class="center" src="../img/login.png"></img><p class="paragraph"/><h4>Forgot Password</h4><p class="paragraph"/>Navigate to <code>/register/forgotPassword</code>:<p class="paragraph"/><img border="0" class="center" src="../img/forgot_password_start.png"></img><p class="paragraph"/>After entering a valid username an email will be sent and you'll see a success screen:<p class="paragraph"/><img border="0" class="center" src="../img/forgot_password_sent.png"></img><p class="paragraph"/>Click on the link in the email:<p class="paragraph"/><img border="0" class="center" src="../img/forgot_password_email.png"></img><p class="paragraph"/>and you'll open the reset password form:<p class="paragraph"/><img border="0" class="center" src="../img/forgot_password_form.png"></img><p class="paragraph"/>After entering a valid password you'll finalize the process, which involves storing the new password encrypted in the user table and pre-authenticating, then redirecting to the configured destination:<p class="paragraph"/><img border="0" class="center" src="../img/forgot_password_final.png"></img><p class="paragraph"/><h4>Configuration</h4><p class="paragraph"/>The post-reset destination url is configurable in <code>grails-app/conf/Config.groovy</code> using the <code>postResetUrl</code> attribute:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.register.postResetUrl = '/reset'</pre></div><p class="paragraph"/>If you don't specify a value then the <code>defaultTargetUrl</code> value will be used, which is <code>'/'</code> by default.<p class="paragraph"/>You can customize the subject, body, and from address of the reset email by overriding the default values in <code>grails-app/conf/Config.groovy</code>, for example:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.forgotPassword.emailBody = '...'
grails.plugins.springsecurity.ui.forgotPassword.emailFrom = '...'
grails.plugins.springsecurity.ui.forgotPassword.emailSubject = '...'</pre></div><p class="paragraph"/>The <code>emailBody</code> property should be a GString and will have the User domain class instance in scope in the <code>user</code> variable, and the generated url to click to reset the password in the <code>url</code> variable.<p class="paragraph"/><h4>Mail configuration</h4><p class="paragraph"/>The plugin uses the <a href="http://grails.org/plugin/mail" target="blank">Mail plugin</a> to send reset emails, so you'll need to configure an SMTP server. See the plugin's documentation for the syntax.<p class="paragraph"/><h4>Notes</h4><p class="paragraph"/>Like the registration code, consider this workflow as starter code. Run <code>grails s2ui-override register</code> to copy the registration controller and GSPs into your application to be customized.<p class="paragraph"/><blockquote class="note">
<code>RegisterController</code> and its GSPs assume that your User domain class has an <code>email</code> field.
</blockquote><p class="paragraph"/>


<h1 id="7 ACL Management">7 ACL Management</h1>
ACL management should be done using the API exposed by <code>AclService</code> and <code>AclUtilService</code>. Both services have a much more intuitive and convenient high-level approach to managing ACLs, ACEs, etc. The functionality in this plugin is to provide a CRUD interface for fine-grained ACL management.<p class="paragraph"/>The ACL menu is only available if the <a href="http://grails.org/plugin/spring-security-acl" target="blank">ACL plugin</a> is installed.



<h2 id="7.1 AclClass Management">7.1 AclClass Management</h2>
The default action for the AclClass controller is search. The <code>className</code> field has an Ajax autocomplete to assist in finding instances. Leave the className field empty to return all instances.<p class="paragraph"/><img border="0" class="center" src="../img/acl_class_search_start.png"></img><p class="paragraph"/>Results are shown paginated in groups of 10. The class name column header is clickable and will sort the results by that field:<p class="paragraph"/><img border="0" class="center" src="../img/acl_class_search_results.png"></img><p class="paragraph"/><h4>AclClass Edit</h4><p class="paragraph"/>After clicking through an instance you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/acl_class_edit.png"></img><p class="paragraph"/>You can update the name, and delete the instance if there aren't any associated <code>AclObjectIdentity</code> or <code>AclEntry</code> instances - by default there is no support for cascading.<p class="paragraph"/>You can also see the associated <code>AclObjectIdentity</code> instances (OIDs) or <code>AclEntry</code> instances.<p class="paragraph"/><h4>AclClass Create</h4><p class="paragraph"/>You can create new instances by going to <code>/aclClass/create</code> or by clicking the <code>Create</code> action in the <code>Class</code> menu under <code>ACL</code>.<p class="paragraph"/><img border="0" class="center" src="../img/acl_class_create.png"></img><p class="paragraph"/>


<h2 id="7.2 AclSid Management">7.2 AclSid Management</h2>
The default action for the AclSid controller is search. The <code>sid</code> field has an Ajax autocomplete to assist in finding instances. Leave the sid field empty and <code>principal</code> set to Either to return all instances.<p class="paragraph"/><img border="0" class="center" src="../img/acl_sid_search_start.png"></img><p class="paragraph"/>Results are shown paginated in groups of 10. The column headers are clickable and will sort the results by that field:<p class="paragraph"/><img border="0" class="center" src="../img/acl_sid_search_results.png"></img><p class="paragraph"/><h4>AclSid Edit</h4><p class="paragraph"/>After clicking through to a sid you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/acl_sid_edit.png"></img><p class="paragraph"/>You can update the name and whether it's a Principal sid or a Role sid, and delete the instance if there aren't any associated <code>AclObjectIdentity</code> or <code>AclEntry</code> instances - by default there is no support for cascading.<p class="paragraph"/>You can also see the associated <code>AclObjectIdentity</code> instances (OIDs) or <code>AclEntry</code> instances.<p class="paragraph"/><h4>AclSid Create</h4><p class="paragraph"/>You can create new instances by going to <code>/aclSid/create</code> or by clicking the <code>Create</code> action in the <code>SID</code> menu under <code>ACL</code>.<p class="paragraph"/><img border="0" class="center" src="../img/acl_sid_create.png"></img><p class="paragraph"/>


<h2 id="7.3 AclObjectIdentity Management">7.3 AclObjectIdentity Management</h2>
The default action for the AclObjectIdentity controller is search. Leave all fields at their default values to return all instances.<p class="paragraph"/><img border="0" class="center" src="../img/acl_oid_search_start.png"></img><p class="paragraph"/>Results are shown paginated in groups of 10. The column headers are clickable and will sort the results by that field:<p class="paragraph"/><img border="0" class="center" src="../img/acl_oid_search_results.png"></img><p class="paragraph"/><h4>AclObjectIdentity Edit</h4><p class="paragraph"/>After clicking through to an instance you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/acl_oid_edit.png"></img><p class="paragraph"/>You can update the values and delete the instance if there aren't any associated <code>AclEntry</code> instances - by default there is no support for cascading.<p class="paragraph"/>You can also see the associated <code>AclEntry</code> instances.<p class="paragraph"/><h4>AclObjectIdentity Create</h4><p class="paragraph"/>You can create new instances by going to <code>/aclObjectIdentity/create</code> or by clicking the <code>Create</code> action in the <code>OID</code> menu under <code>ACL</code>.<p class="paragraph"/><img border="0" class="center" src="../img/acl_oid_create.png"></img><p class="paragraph"/>


<h2 id="7.4 AclEntry Management">7.4 AclEntry Management</h2>
The default action for the AclEntry controller is search. Leave all fields at their default values to return all instances.<p class="paragraph"/><img border="0" class="center" src="../img/acl_entry_search_start.png"></img><p class="paragraph"/>Results are shown paginated in groups of 10. The column headers are clickable and will sort the results by that field:<p class="paragraph"/><img border="0" class="center" src="../img/acl_entry_search_results.png"></img><p class="paragraph"/><h4>AclEntry Edit</h4><p class="paragraph"/>After clicking through to an instance you get to the edit page (there are no view pages):<p class="paragraph"/><img border="0" class="center" src="../img/acl_entry_edit.png"></img><p class="paragraph"/>You can update the values and delete the instance if there aren't any associated <code>AclEntry</code> instances - by default there is no support for cascading.<p class="paragraph"/><h4>AclEntry Create</h4><p class="paragraph"/>You can create new instances by going to <code>/aclEntry/create</code> or by clicking the <code>Create</code> action in the <code>Entry</code> menu under <code>ACL</code>.<p class="paragraph"/><img border="0" class="center" src="../img/acl_entry_create.png"></img><p class="paragraph"/>


<h1 id="8 Persistent Cookie Management">8 Persistent Cookie Management</h1>
Persistent cookies aren't enabled by default - you must enable them by running the <code>s2-create-persistent-token</code> script. See <a href="http://grails-plugins.github.com/grails-spring-security-core/docs/manual/" target="blank">Section 9.3</a> in the Spring Security Core plugin documentation for details about this feature.<p class="paragraph"/><h4>Persistent logins search</h4><p class="paragraph"/>The Persistent Logins menu is only shown if this feature is enabled. Navigate to <code>/persistentLogin/search</code> or click the Search item in the menu:<p class="paragraph"/><img border="0" class="center" src="../img/persistent_login_search.png"></img><p class="paragraph"/>You can search by any field, and there's an Ajax autocomplete for the <code>username</code> field to assist with user lookup:<p class="paragraph"/><img border="0" class="center" src="../img/persistent_login_search_results.png"></img><p class="paragraph"/>Click the series to get to the edit page:<p class="paragraph"/><img border="0" class="center" src="../img/persistent_login_edit.png"></img>



<h1 id="9 Security Configuration UI">9 Security Configuration UI</h1>
The Security Info menu has links for several pages that contain read-only views of much of the Spring Security configuration:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_menu.png"></img><p class="paragraph"/><h4>Configuration</h4><p class="paragraph"/>The Configuration menu item displays all security-related attributes in <code>Config.groovy</code>. The names omit the <code>grails.plugins.springsecurity</code> prefix:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_config.png"></img><p class="paragraph"/><h4>Mappings</h4><p class="paragraph"/>The Mappings menu item displays the current request mapping mode (Annotation, Requestmap, or Static) and all current mappings:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_mappings.png"></img><p class="paragraph"/><h4>Current Authentication</h4><p class="paragraph"/>The Current Authentication menu item displays your <code>Authentication</code> information, mostly for reference to see what a typical one contains:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_auth.png"></img><p class="paragraph"/><h4>Filter Chains</h4><p class="paragraph"/>The Filter Chains menu item displays your configured Filter chains. Typically there is just one chain, applied to all URLs<p class="paragraph"/><img border="0" class="center" src="../img/security_info_filter_chains.png"></img><p class="paragraph"/>It is possible to have multiple URL patterns each with its own filter chain, for example when using HTTP Basic Auth for a web service.<p class="paragraph"/><h4>Logout Handlers</h4><p class="paragraph"/>The Logout Handlers menu item displays your registered <code>LogoutHandler</code>s. Typically there will be just the two shown here, but you can register your own custom implementations, or a plugin might contribute one or more:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_logout_handlers.png"></img><p class="paragraph"/><h4>Voters</h4><p class="paragraph"/>The Voters menu item displays your registered <code>AccessDecisionVoter</code>s. Typically there will be just the three shown here, but you can register your own custom implementations, or a plugin might contribute one or more:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_voters.png"></img><p class="paragraph"/><h4>Authentication Providers</h4><p class="paragraph"/>The Authentication Providers menu item displays your registered <code>AuthenticationProvider</code>s. Typically there will be just the three shown here, but you can register your own custom implementations, or a plugin (e.g. LDAP) might contribute one or more:<p class="paragraph"/><img border="0" class="center" src="../img/security_info_providers.png"></img><p class="paragraph"/>


<h1 id="10 Customization">10 Customization</h1>
Most aspects of the plugin are configurable.<p class="paragraph"/><h4><code>s2ui-override</code> script</h4><p class="paragraph"/>The plugin's controllers and GSPs are easily overridden using the <code>s2ui-override</code> script. The general syntax for running the script is<p class="paragraph"/><div class="code"><pre>grails s2ui&#45;override &#60;type&#62; &#60;controller&#45;<span class="java&#45;keyword">package</span>&#62;</pre></div><p class="paragraph"/>The script will copy an empty controller that extends the corresponding plugin controller into your application so you can override individual actions and methods as needed. It also copies the controller's GSPs. The exceptions are 'auth' and 'layout' which only copy GSPs.<p class="paragraph"/>The files copied for each type are summarized here:
<ul class="star">
<li>aclclass</li>
<ul class="star">
<li><code>controller/AclClassController.groovy</code></li>
<li><code>views/aclClass/create.gsp</code></li>
<li><code>views/aclClass/edit.gsp</code></li>
<li><code>views/aclClass/search.gsp</code></li>
</ul>
<li>aclentry</li>
<ul class="star">
<li><code>controller/AclEntryController.groovy</code></li>
<li><code>views/aclEntry/create.gsp</code></li>
<li><code>views/aclEntry/edit.gsp</code></li>
<li><code>views/aclEntry/search.gsp</code></li>
</ul>
<li>aclobjectidentity</li>
<ul class="star">
<li><code>controller/AclObjectIdentityController.groovy</code></li>
<li><code>views/aclObjectIdentity/create.gsp</code></li>
<li><code>views/aclObjectIdentity/edit.gsp</code></li>
<li><code>views/aclObjectIdentity/search.gsp</code></li>
</ul>
<li>aclsid</li>
<ul class="star">
<li><code>controller/AclSidController.groovy</code></li>
<li><code>views/aclSid/create.gsp</code></li>
<li><code>views/aclSid/edit.gsp</code></li>
<li><code>views/aclSid/search.gsp</code></li>
</ul>
<li>auth</li>
<ul class="star">
<li><code>views/login/auth.gsp</code></li>
</ul>
<li>layout</li>
<ul class="star">
<li><code>views/layouts/springSecurityUI.gsp</code></li>
<li><code>views/includes/_ajaxLogin.gsp</code></li>
</ul>
<li>persistentlogin</li>
<ul class="star">
<li><code>controller/PersistentLoginController.groovy</code></li>
<li><code>views/persistentLogin/edit.gsp</code></li>
<li><code>views/persistentLogin/search.gsp</code></li>
</ul>
<li>register</li>
<ul class="star">
<li><code>controller/RegisterController.groovy</code></li>
<li><code>views/register/forgotPassword.gsp</code></li>
<li><code>views/register/index.gsp</code></li>
<li><code>views/register/resetPassword.gsp</code></li>
</ul>
<li>registrationcode</li>
<ul class="star">
<li><code>controller/RegistrationCodeController.groovy</code></li>
<li><code>views/registrationCode/edit.gsp</code></li>
<li><code>views/registrationCode/search.gsp</code></li>
</ul>
<li>requestmap</li>
<ul class="star">
<li><code>controller/RequestmapController.groovy</code></li>
<li><code>views/requestmap/create.gsp</code></li>
<li><code>views/requestmap/edit.gsp</code></li>
<li><code>views/requestmap/search.gsp</code></li>
</ul>
<li>role</li>
<ul class="star">
<li><code>controller/RoleController.groovy</code></li>
<li><code>views/role/create.gsp</code></li>
<li><code>views/role/edit.gsp</code></li>
<li><code>views/role/search.gsp</code></li>
</ul>
<li>securityinfo</li>
<ul class="star">
<li><code>controller/SecurityInfoController.groovy</code></li>
<li><code>views/securityInfo/config.gsp</code></li>
<li><code>views/securityInfo/currentAuth.gsp</code></li>
<li><code>views/securityInfo/filterChain.gsp</code></li>
<li><code>views/securityInfo/logoutHandlers.gsp</code></li>
<li><code>views/securityInfo/mappings.gsp</code></li>
<li><code>views/securityInfo/providers.gsp</code></li>
<li><code>views/securityInfo/usercache.gsp</code></li>
<li><code>views/securityInfo/voters.gsp</code></li>
</ul>
<li>user</li>
<ul class="star">
<li><code>controller/UserController.groovy</code></li>
<li><code>views/user/create.gsp</code></li>
<li><code>views/user/edit.gsp</code></li>
<li><code>views/user/search.gsp</code></li>
</ul></ul><p class="paragraph"/><h4>I18N</h4><p class="paragraph"/>Most of the plugin's displayed strings are localized and stored in the plugin's <code>grails-app/i18n/messages.spring-security-ui.properties</code> file. You can override any of these values by putting an override in your application's <code>grails-app/i18n/messages.properties</code> file.<p class="paragraph"/><h4><code>Config.groovy</code> attributes</h4><p class="paragraph"/>There are a few configuration options specified in <code>DefaultUiSecurityConfig.groovy</code> that can be overridden in your application's <code>grails-app/conf/Config.groovy</code>
<ul class="star">
<li>grails.plugins.springsecurity.ui.register.emailBody</li>
<li>grails.plugins.springsecurity.ui.register.emailFrom</li>
<li>grails.plugins.springsecurity.ui.register.emailSubject</li>
<li>grails.plugins.springsecurity.ui.register.defaultRoleNames</li>
<li>grails.plugins.springsecurity.ui.register.postRegisterUrl</li>
<li>grails.plugins.springsecurity.ui.forgotPassword.emailBody</li>
<li>grails.plugins.springsecurity.ui.forgotPassword.emailFrom</li>
<li>grails.plugins.springsecurity.ui.forgotPassword.emailSubject</li>
<li>grails.plugins.springsecurity.ui.forgotPassword.postResetUrl</li>
</ul><p class="paragraph"/>See <a href="../guide/single.html#5%20User%20Registration" class="guide">Section 5</a> and <a href="../guide/single.html#6%20Forgot%20Password" class="guide">Section 6</a> for more details on these attributes.<p class="paragraph"/><h4>CSS</h4><p class="paragraph"/>The plugin defines its CSS styles in <code>web-app/css/spring-security-ui.css</code> and most of the jQuery plugins have corresponding CSS files. These can be overridden by overriding the <code>springSecurityUI.gsp</code> template and including your CSS file(s).<p class="paragraph"/><h4>Password Encryption</h4><p class="paragraph"/>In recent versions of the Spring Security Core plugin, the "User" domain class is generated by the <code>s2-quickstart</code> with code to automatically encrypt the password. This makes the code simpler (for example in controllers where you create users or update user passwords) but older generated classes don't have this generated code. This presents a problem for plugins like this one since it's not possible to reliably determine if the domain class encrypts the password or if you use the older approach of explicitly calling <code>springSecurityService.encodePassword()</code>.<p class="paragraph"/>The unfortunate consequence of mixing a newer domain class that does password encryption with controllers that call <code>springSecurityService.encodePassword()</code> is the the passwords get double-encrypted, and users aren't able to login. So to get around this there's a configuration option you can set to tell this plugin's controllers whether to encrypt or not: <code>grails.plugins.springsecurity.ui.encodePassword</code>.<p class="paragraph"/>This option defaults to <code>true</code> to avoid a breaking change, so if you have a newer domain class that handles encryption just disable this plugin's encryption:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.ui.encodePassword = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><h4>Password Verification</h4><p class="paragraph"/>By default the registration controller has rather strict requirements for valid passwords; they must be between 8 and 64 characters and must include at least one uppercase letter, at least one number, and at least one symbol from "!@#$%^&#38;". You can customize these rules with these Config.groovy attributes:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Property</strong></th><th><strong class="bold">Default Value</strong></th></tr><tr class="table-odd"><td>grails.plugins.springsecurity. ui.password.minLength</td><td>8</td></tr><tr class="table-even"><td>grails.plugins.springsecurity. ui.password.maxLength</td><td>64</td></tr><tr class="table-odd"><td>grails.plugins.springsecurity. ui.password.validationRegex</td><td>"^.&#42;(?=.&#42;&#92;&#92;d)(?=.&#42;&#91;a-zA-Z&#93;)(?=.&#42;&#91;!&#64;#$%^&#38;&#93;).&#42;$"</td></tr></table><p class="paragraph"/>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
